<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <meta charset="UTF-8">
    <title>Home</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script th:src="@{/js/bootstrap/bootstrap.js}"></script>
    <script th:src="@{/js/bootstrap/bootstrap.bundle.js}"></script>
    <script th:src="@{/js/script.js}"></script>
    <script src="https://cdn.tiny.cloud/1/f9zv4s8hx9uxaf7vho9e7m1ozym4y8wpwxc5dpjjaql0d3p4/tinymce/5/tinymce.min.js"
        referrerpolicy="origin"></script>
    <script th:src="@{/js/tinymceConfig.js}"></script>
    <link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap-grid.css}">
    <link rel="stylesheet" th:href="@{/css/bootstrap/bootstrap-reboot.css}">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>

    <link rel="stylesheet" href="../static/css/mycss.css" media="all" th:href="@{/css/mycss.css}" />
</head>

<body>
    <div class="container-fluid" style="background-color:#ffffff;color:#fff;height:300px;">
        <p align="center">
            <img src="/images/VOICE%20logo%202023-transparent.png" alt="" title="" border="0" width="714"
                height="268"><br>
        </p>
    </div>

    <div class="loginNotice" sec:authorize="isAuthenticated()">
        <div th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
            Logged in as Admin <span class="glyphicon glyphicon-sunglasses">&nbsp;</span>
            <a href="/" sec:authentication="name"></a>
            <a style="margin-left: 1vw;" th:href="@{/admin/dashboard}"><button>ADMIN PANEL</button></a>
            <button style="margin-left: 1vw; margin-right: 1vw; color:#f77272;" id="toggleVisibilityButton" class="floating-button" data-content-id="1"
                th:text="${pageHidden != null ? (pageHidden ? 'UNHIDE CURRENT PAGE' : 'HIDE CURRENT PAGE') : 'UNHIDE CURRENT PAGE'}"></button>
        </div>
        <div th:if="${#authorization.expression('hasRole(''ROLE_USER'')')}">
            Logged in as User <span class="glyphicon glyphicon-user"></span>&nbsp;<a href="/"
                sec:authentication="name"></a>
        </div>
    </div>

    <!--Main Menu Nav Bar-->
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark justify-content-center">

        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#collapsibleNavbar">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Links -->
        <ul class="navbar-nav" id="collapsibleNavbar" >
            <!-- Home -->
            <li class="nav-item active">
                <!-- th:classappend="${pageHidden == null ? '' : (pageHidden && !#authorization.expression('hasRole(''ROLE_ADMIN'')') ? 'd-none' : '')}" -->
                <a class="nav-link" href="/">Home</a>
            </li>

            <!-- About us Dropdown -->
            <li class="nav-item dropdown px-2 ">
                <a class="nav-link dropdown-toggle" id="aboutusdrop" data-toggle="dropdown">About Us</a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" th:href="@{/chapters}">Chapters</a>
                    <a class="dropdown-item" th:href="@{/publications}">Publications</a>
                    <a class="dropdown-item" th:href="@{/staff}">Staff & Board</a>
                    <a class="dropdown-item" th:href="@{/sponsor}">Our Funders And Sponsors</a>
                </div>
            </li>

            <li class="nav-item px-2 ">
                <a class="nav-link" th:href="@{/donate}">Donate</a>
            </li>

            <!-- Our Programs Dropdown -->
            <li class="nav-item dropdown px-2">
                <a class="nav-link dropdown-toggle" id="programsdrop" data-toggle="dropdown">
                    Our Programs
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" th:href="@{/parents}">Parents</a>
                    <a class="dropdown-item" th:href="@{/childrenYouth}">Children/Youth</a>
                    <a class="dropdown-item" th:href="@{/earlyYears}">Early Years</a>
                    <a class="dropdown-item" th:href="@{/educators}">Educators/Alumni</a>
                    <a class="dropdown-item" >Advocacy/Public Education</a>
                    <a class="dropdown-item" >Youth Mentorship</a>
                    <a class="dropdown-item" >SEAC</a>
                </div>
            </li>

            <!-- Events Dropdown -->
            <li class="nav-item dropdown px-2 ">
                <a class="nav-link dropdown-toggle" id="eventsdrop" data-toggle="dropdown">
                    Events
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" >Conference 2024</a>
                    <a class="dropdown-item" >Conference 2023</a>
                </div>
            </li>

            <li class="nav-item px-2 ">
                <a class="nav-link" th:href="@{/camp}">Voice Camp 2024</a>
            </li>

            <!-- Resources Dropdown -->
            <li class="nav-item dropdown px-2 ">
                <a class="nav-link dropdown-toggle" id="resourcesdrop" data-toggle="dropdown">
                    Resources
                </a>
                <div class="dropdown-menu">
                    <a class="dropdown-item" >Financial</a>
                    <a class="dropdown-item" >Mental Health</a>
                    <a class="dropdown-item" >Library</a>
                    <a class="dropdown-item" >Educational</a>
                    <a class="dropdown-item" >Other Languages</a>
                    <a class="dropdown-item" >Audiology</a>
                    <a class="dropdown-item" >AVT/LSLS</a>
                    <a class="dropdown-item" >Other Organization</a>
                </div>
            </li>

            <li class="nav-item px-2 ">
                <a class="nav-link" th:href="@{/login}" sec:authorize="!isAuthenticated()">Login</a>
                <a class="nav-link" th:href="@{/logout}" sec:authorize="isAuthenticated()">Logout</a>
            </li>

            <li class="nav-item px-2 ">
                <a class="nav-link" th:href="@{/myAccount}" sec:authorize="isAuthenticated()">My Account</a>
            </li>
        </ul>
    </nav>

    <div class="mainContent">
        <div class="message-container">
            <div class="alert alert-danger" th:if="${error}" role="alert"
                style="text-align: center; font-weight: bold; margin-top: 20px; margin-bottom: 20px;">
                <p th:text="${error}"></p>
            </div>
            <div class="alert alert-success" th:if="${accountDeleted}" role="alert"
                style="text-align: center; font-weight: bold; margin-top: 20px; margin-bottom: 20px;">
                <p>Your account has been deleted successfully.</p>
            </div>
        </div>

        <div class="errorNotice" th:if="${saveResult}">
            <span>Error Encountered:</span>
            <p class="smallestText">Content not saved</p>
        </div>

        <div class="form-group" th:if="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
            <form method="post">
                <input type="hidden" id="contentId" value="1">
                <textarea id="editor" th:text="${pageContent}"></textarea>
            </form>
        </div>
        <div class="form-group" th:unless="${#authorization.expression('hasRole(''ROLE_ADMIN'')')}">
            <div th:if="${pageHidden}">
                <p class="hiddenPageContent">Error: This page is currently unavailable.
                </p>
                <div th:if="${pageHidden != null ? !pageHidden : true}">
                    <p>No content available.</p>
                </div>
            </div>
            <div th:if="${!pageHidden}">
                [(${pageContent})]
            </div>
        </div>
    </div>
</body>

</html>